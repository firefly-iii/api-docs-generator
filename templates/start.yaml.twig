openapi: 3.0.0
servers:
  - description: Firefly III demo site
    url: {{ server }}/api
  - description: "Local development server (do not use)"
    url: http://firefly.sd.internal/api
info:
  title: Firefly III API {% if version starts with 'develop' %}{{ version }}{% else %}v{{ version }}{% endif %}

  description: |
    This is the documentation of the Firefly III API. Please report any bugs or issues. You may use the "Authorize" button to try the API below.
    <br><br>
    Please keep in mind that the demo site does **not** accept requests from `curl`, `colly`, `wget`, etc. You must use a browser or a tool like Insomnia to make your test requests.
    <br><br>
    To learn more about the idiosyncrasies of this API, please read about the API in the [Firefly III API documentation](https://docs.firefly-iii.org/references/firefly-iii/api/).
    <br><br>
    <small>This file was last generated on {{ time }}</small>

  version: "{% if version starts with 'develop' %}{{ version }}{% else %}v{{ version }}{% endif %}"
  contact:
    name: James Cole
    email: james@firefly-iii.org
    url: https://firefly-iii.org
  license:
    name: AGPLv3
    url: 'https://www.gnu.org/licenses/agpl-3.0.en.html'
{% if tags != '' %}
{{ tags }}
{% endif %}
{% if paths|length > 0 %}
paths:
{% for path in paths %}
{{ path|raw }}
{% endfor %}
{% endif %}
components:
{% if schemas|length > 0 %}
{% endif %}
{% if schemas|length > 0 %}
  schemas:
{% for schema in schemas %}
{{ schema|raw }}
{% endfor %}
{% endif %}
  securitySchemes:
    firefly_iii_auth:
      type: oauth2
      description: Default OAuth2 flow
      flows:
        authorizationCode:
          authorizationUrl: {{ server }}/oauth/authorize
          tokenUrl: {{ server }}/oauth/token
          refreshUrl: {{ server }}/oauth/token
          scopes: {}
    local_bearer_auth:
      description: Optional Bearer token flow
      type: http
      scheme: bearer
security:
  - firefly_iii_auth: []
  - local_bearer_auth: []
