BillProperties:
  type: object
  required:
    - name
    - amount_min
    - amount_max
    - date
    - repeat_freq
  properties:
    created_at:
      type: string
      format: date-time
      example: "2018-09-17T12:46:47+01:00"
      readOnly: true
    updated_at:
      type: string
      format: date-time
      example: "2018-09-17T12:46:47+01:00"
      readOnly: true
    name:
      type: string
      format: string
      example: "Rent"
      description: "The name of the subscription."
  !standardHasCurrencyField,2
  !currencyFields,2
  !primaryCurrencyFields,2
    amount_min:
      type: string
      format: amount
      example: "123.45"
      description: "The minimum amount that is expected for this subscription in the subscription's currency."
    pc_amount_min:
      type: string
      format: amount
      example: "123.45"
      description: "The minimum amount that is expected for this subscription in the administration's primary currency."
    amount_max:
      type: string
      format: amount
      example: "123.45"
      description: "The maximum amount that is expected for this subscription in the subscription's currency."
    pc_amount_max:
      type: string
      format: amount
      example: "123.45"
      description: "The maximum amount that is expected for this subscription in the administration's primary currency."
    amount_avg:
      type: string
      format: amount
      example: "123.45"
      description: "The average amount that is expected for this subscription in the subscription's currency."
    pc_amount_avg:
      type: string
      format: amount
      example: "123.45"
      description: "The average amount that is expected for this subscription in the administration's primary currency."
    date:
      type: string
      format: date-time
      example: "2018-09-17T12:46:47+01:00"
    end_date:
      type: string
      format: date-time
      example: "2018-09-17T12:46:47+01:00"
      description: "The date after which this subscription is no longer valid or applicable"
      nullable: true
    extension_date:
      type: string
      format: date-time
      example: "2018-09-17T12:46:47+01:00"
      description: "The date before which the subscription must be renewed (or cancelled)"
      nullable: true
    repeat_freq:
      $ref: '#/components/schemas/BillRepeatFrequency'
    skip:
      type: integer
      format: int32
      example: 0
      description: How often the subscription will be skipped. 1 means a bi-monthly subscription.
    active:
      type: boolean
      format: boolean
      example: true
      description: If the subscription is active.
    order:
      type: integer
      format: int32
      example: 1
      description: "Order of the subscription."
    notes:
      type: string
      format: string
      example: "Some example notes"
      nullable: true
    object_group_id:
      type: string
      format: string
      example: "5"
      nullable: true
      description: The group ID of the group this object is part of. NULL if no group.
    object_group_order:
      type: integer
      format: int32
      example: 5
      nullable: true
      readOnly: true
      description: The order of the group. At least 1, for the highest sorting.
    object_group_title:
      type: string
      format: string
      example: "Example Group"
      nullable: true
      description: The name of the group. NULL if no group.
    paid_dates:
      type: array
      description: "Array of past transactions when the subscription was paid."
      readOnly: true
      items:
        type: object
        readOnly: true
        properties:
          transaction_group_id:
            type: string
            format: string
            example: "123"
            description: "Transaction group ID of the transaction linked to this subscription."
            readOnly: true
          transaction_journal_id:
            type: string
            format: string
            example: "123"
            description: "Transaction journal ID of the transaction linked to this subscription."
            readOnly: true
          date:
            type: string
            format: date-time
            example: "2018-09-17T12:46:47+01:00"
            description: "Date the bill was paid."
            readOnly: true
          subscription_id:
            type: string
            format: string
            example: "123"
            description: "ID of this subscription."
            readOnly: true
          currency_id:
            type: string
            format: string
            example: "5"
            description: The ID of the currency used in this transaction.
          currency_code:
            type: string
            format: string
            example: EUR
          currency_symbol:
            type: string
            format: string
            example: "$"
            readOnly: true
          currency_decimal_places:
            type: integer
            format: int32
            example: 2
            readOnly: true
          primary_currency_id:
            type: string
            format: string
            example: "5"
            readOnly: true
            description: "The administration's primary currency ID."
          primary_currency_code:
            type: string
            format: string
            example: EUR
            readOnly: true
            description: "The administration's primary currency code."
          primary_currency_symbol:
            type: string
            format: string
            example: "$"
            readOnly: true
            description: "The administration's primary currency symbol."
          primary_currency_decimal_places:
            type: integer
            format: int32
            example: 2
            readOnly: true
            description: "The administration's primary currency decimal places."
          amount:
            type: string
            format: amount
            example: "123.45"
            description: "The amount that was paid for this subscription in the subscription's currency."
          pc_amount:
            type: string
            format: amount
            example: "123.45"
            description: "The amount that was paid for this subscription in the administration's primary currency."
          foreign_amount:
            type: string
            format: amount
            example: "123.45"
            description: "The foreign amount that was paid for this subscription in the subscription's currency."
          pc_foreign_amount:
            type: string
            format: amount
            example: "123.45"
            description: "The foreign amount that was paid for this subscription in the administration's primary currency."
    pay_dates:
      type: array
      description: "Array of future dates when the bill is expected to be paid. Autogenerated."
      readOnly: true
      items:
        type: string
        format: date-time
        example: "2018-09-17T12:46:47+01:00"
        readOnly: true

    next_expected_match:
      type: string
      format: date-time
      example: "2018-09-17T12:46:47+01:00"
      description: "When the subscription is expected to be due."
      nullable: true
      readOnly: true
    next_expected_match_diff:
      type: string
      format: string
      example: "today"
      description: "Formatted (locally) when the subscription is due."
      nullable: true
      readOnly: true
